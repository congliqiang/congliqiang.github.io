---
title: go进阶第一周[微服务]
date: 2022-01-23 17:16:56
tags: [go进阶,微服务]
top_img: /img/redis/redis18.jpg
cover: /img/redis/redis18.jpg
swiper_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前
---
# 一、微服务概览
## 通常的业务开发过程是如何演进的？
早期规模比较小，如何简单如何开发，如一个传统的web应用就是从浏览器到Apache到一个巨石应用，可能在简单的访问一下数据库，这种模型早期相对来说比较容易测试，
开发、部署、扩展，因为业务本身体量并不复杂，但是初具规模后，形成全家桶，什么东西都揉在里面，变得无比复杂，可能明明只想改A功能，但是不知道为什么会影响到
B,C,D其他的一些模块，再到后期代码库代码体积非常庞大，导致整个IDE是非常卡顿的，整个调试和部署是越来越复杂的，因为项目依赖是非常混乱的，尽管在巨石里面也
是有一个模块化的逻辑，但是最终的话，它是会被打包成一个整体的应用去部署的。比如可能单体里面只有业务的一小部分是热点，那么要去扩容整个单体应用带来的收益
并不会那么高，而且对于单个开发者去整个交付和开发它不是那么容易搞懂。无法扩展，可靠性非常低，最终，敏捷性开发和部署变得无法完成。
## 应对思路
* 化繁为简，分而治之
把一个复杂的东西变成一个一个模块化的东西，完成演进。
  ![](/img/go/go1.jpg)
  ![](/img/go/go2.jpg)
比如图中从web-interface(作为整个web请求的网关入口)进入,一份api数据需要从多个服务去获取。
## 微服务起源
大家经常谈论的是一个叫SOA（面向服务的架构模式），它和微服务又是什么关系？你可以把微服务想成是SOA的一种实践。
* 小即是美: 小的服务代码少，bug也少，易测试，易维护，也更容易不断迭代完善的精致而美妙。
* 单一职责: 一个服务也只需要做好一件事，专注才能做好。
* 尽可能早地创建原型:尽可能早的提供服务API，建立服务契约，达成服务间沟通的一致性约定，至于实现和完善可以慢慢再做。
* 可移植性比效率更重要: 服务间的轻量级交互协议在效率和可移植性二者间，首要依然考虑兼容性和移植性。
`比如图中早期是一个全家桶，就是一个单体应用，然后单一的数据库，没有划分的那么清楚，这样整个单体应用要交给整个团队去维护，大家要考虑非常清晰的模块划分，
依赖等等,对我们架构的挑战是非常大的,用化繁为简，分而治之的思想，把单体的模型逐渐演进成分布式的一种模型`
  ![](/img/go/go3.jpg)
# 二、微服务设计

# 三、gRPC&服务发现

# 四、多集群&多租户